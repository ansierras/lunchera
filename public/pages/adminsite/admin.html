<div class="navbar-fixed">
  <nav class="nav-extended">
    <div class="nav-wrapper" ng-class="theme.navBarColor">
      <a href="#!" class="brand-logo valign-wrapper">
        <span >TABLOO</span>
      </a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">

            <li ng-repeat="(index, itemMenu) in menu" ng-class="menuClasses[index]"><a ng-click="goto(itemMenu.linkTo)"><i class="material-icons left">{{itemMenu.icon}}</i>{{itemMenu.name}}</a></li>
            <li class="active"><a href="#!" style="height: 64px;" class="valign-wrapper dropdown-button" data-activates="dropdownPerfil">Mi Perfil<i class="material-icons right">arrow_drop_down</i> <img ng-src="{{user.photoURL}}" alt="" class="circle navBarImg white valign"/></a></li>
          </ul>
      <!--
      <form class="right">
        <div class="input-field">
          <input id="search" type="search" required ng-model="profileFilter">
          <label class="label-icon" for="search"><i class="material-icons">search</i></label>
          <i class="material-icons">close</i>
        </div>
      </form>
      -->
    </div>
    <div class="nav-content" ng-class="theme.navBarColorSub">
      <ul class="tabs tabs-transparent">
        <li class="tab"><a href="#users">Usuarios</a></li>
        <li class="tab"><a href="#encounters">Mesas</a></li>
        <li class="tab"><a href="#market">Mercado</a></li>
        <li class="tab"><a href="#games">Juegos</a></li>
      </ul>
    </div>
  </nav>
</div>

<ul id="dropdownPerfil" class="dropdown-content">
  <li><a href="#!">Ver mi perfil</a></li>
  <li><a href="#!">Editar mi perfil</a></li>
  <li class="divider"></li>
  <li><a href="#!">Cerrar Sesión</a></li>
</ul>

<div class="tap-target" data-activates="edit">
  <div class="tap-target-content">
    <h5>Para guardar...</h5>
    <p>Llena los campos correspondientes. Una vez termines, haz click en este botón para guardar los cambios. ¡Podrás volver aquí cuando quieras!</p>
  </div>
</div>


<div class="container" style="margin-top: 50px">
  <!-- **********************
  *       USERS
  ************************-->
  <div id="users" class="col s12">
    <div class="chip" ng-repeat="player in usersComplete">
      <img ng-src="{{player.photoURL}}" alt="Contact Person">
      <a ng-href="#!/usuario/{{player.userKey}}">{{player.name}}</a>
    </div>
    <table class="striped">
      <thead>
        <tr>
            <th>Nombre</th>
            <th>Apellidos</th>
            <th>Ciudad</th>
            <th>Fecha ingreso</th>
            <th>Estatus</th>
            <th>UID</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="user in users">
          <td>{{user.name}}</td>
          <td>{{user.lastNames}}</td>
          <td>{{adminserv.getContextById('name','city',[user.countryId, user.cityId])}}</td>
          <td>{{adminserv.interpretDate(user.memberSince)}}</td>
          <td>{{user.status}}</td>
          <td>{{user.uid}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- **********************
  *       ENCOUNTERS
  ************************-->
  <div id="encounters" class="col s12">
    <div class="row">
      <div class="col m4">
        <a class="btn" ng-click="flushEncounters()">Limpiar encuentros</a>
      </div>
      <div class="col m8">
        <div class="progress" ng-show="workingFlushEncounters">
          <div class="determinate" ng-style="progress"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- **********************
  *       MARKET
  ************************-->
  <div id="market" class="col s12">
    <div class="row">
      <div class="col m4">
        <a class="btn" ng-click="flushMarket()">Limpiar mercado</a>
      </div>
      <div class="col m8">
        <div class="progress" ng-show="workingFlushMarket">
          <div class="determinate" ng-style="progressMarket"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- **********************
  *       GAMES
  ************************-->
  <div id="games" class="col s12">
    <ul class="collapsible" data-collapsible="accordion">
      <li>
        <div class="collapsible-header">General</div>
        <div class="collapsible-body">
          <a class="btn" ng-click="loadGeneral()" ng-show="generalGames.length<1">Cargar generales</a>
          <table class="striped">
            <thead>
              <tr>
                  <th>Nombre</th>
                  <th>Id</th>
                  <th>Expansión</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="game in generalGames">
                <td>{{game.name}}</td>
                <td>{{game.gameId}}</td>
                <td>{{game.isExpansion}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </li>
      <li>
        <div class="collapsible-header">Pendientes</div>
        <div class="collapsible-body">
          <a class="btn" ng-click="loadPending()" ng-show="pendingGames.length<1">Cargar pendientes</a>
          <table class="striped">
            <thead>
              <tr>
                  <th>Nombre</th>
                  <th>Id</th>
                  <th>Expansión</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="game in pendingGames">
                <td>{{game.name}}</td>
                <td>{{game.gameId}}</td>
                <td>{{game.isExpansion}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </li>
    </ul>
    
    <div class="row">
      <div class="col m4">
        <a class="btn" ng-click="gamesDB()">Consolidar Juegos</a>
      </div>
      <div class="col m8">
        <div class="progress" ng-show="workingGameDB">
          <div class="determinate" ng-style="progress"></div>
        </div>
      </div>
    </div>
  </div>
</div>

